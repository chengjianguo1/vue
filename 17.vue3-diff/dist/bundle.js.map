{"version":3,"file":"bundle.js","sources":["../src/shared/index.ts","../src/reactivity/effect.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/reactivity/computed.ts","../src/reactivity/ref.ts","../src/runtime-core/vnode.ts","../src/runtime-core/apiCreateApp.ts","../src/runtime-core/component.ts","../src/runtime-core/renderer.ts","../src/runtime-core/h.ts","../node_modules/tslib/tslib.es6.js","../src/runtime-dom/nodeOps.ts","../src/runtime-dom/patchProp.ts","../src/runtime-dom/index.ts"],"sourcesContent":["export const isObject = (val:unknown):val is Object => typeof val == 'object' && val !== null;\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nexport const hasOwn = (target,key) => hasOwnProperty.call(target,key);\n\n\nexport const isArray = (target)=> Array.isArray(target);\n\n\nexport const hasChange = (oldVal,newVal)=>oldVal !== newVal;\n\n\nexport const isFunction = (val) => typeof val == 'function'\n\n\nexport const isString = (val) => typeof val == 'string'\n\n\nexport * from './ShapeFlags'","import { isArray } from \"../shared\";\n\nexport const effect = (fn, options: any = {}) => {\n    // 需要让传递来的fn 变成响应式的effect，数据有变化 这个fn就能重新执行\n    const effect = createReactiveEffect(fn,options); //fn用户传递的函数\n\n    if (!options.lazy) {\n        effect();\n    }\n\n    return effect\n}\n\n\n// effect 应该和数据关联起来\n// effect1(()=>{\n//     state.name\n//     effect2(()=>{\n//         state.age\n//     })\n//     state.address\n// })\n\n// 默认先调用effect1 内部对state.name取值 ， 把name属性和 activeEffect(effect1) 关联起来\n// 调用effect2 内部对state.age取值， 把age 和 activeEffect(effect2) 关联起来\n// effect2 执行完毕 activeEffect 指向effect1\n// state.address 再次取值 此时关联到了 effect1\n\n// 数据变化effect就会重新执行\n// effect(()=>{\n//     state.name++;\n// })\n\nexport let effectStack = []; // 这个栈为了保证当前effect 和属性能对应上\nexport let activeEffect = null;\nlet id = 0;\nfunction createReactiveEffect(fn,options) {\n    const effect = function reactiveEffect() {\n        if (!effectStack.includes(effect)) {\n            try {\n                effectStack.push(effect);\n                activeEffect = effect;\n                return fn(); // 让函数执行, 会执行取值逻辑. 在取值逻辑中可以和effect做关联\n            } finally {\n                effectStack.pop();\n                activeEffect = effectStack[effectStack.length - 1]\n            }\n        }\n\n    }\n    effect.id = id++;\n    effect.options = options;\n    return effect;\n}\n// 某个对象中的  某个属性 依赖了 哪些effect\n\n// {对象:{name:[]}}  // weakMap set\nconst targetMap = new WeakMap;\n// 建立属性 和 effect之间的关联\nexport function track(target, key) {\n    if (activeEffect == undefined) {\n        return;\n    }\n    let depsMap = targetMap.get(target);\n    if (!depsMap) { // 枚举\n        targetMap.set(target, (depsMap = new Map())); // weakMap 为了解决内存泄漏\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n        depsMap.set(key, (dep = new Set()));\n    }\n    if (!dep.has(activeEffect)) {\n        dep.add(activeEffect);\n    }\n}\n\nconst run = (effects) => {\n    if (effects) effects.forEach(effect =>{ // effect 有两种 1.渲染 2.计算属性对应的effect\n        if(effect.options.scheduler){ // 计算属性 \n            effect.options.scheduler(effect);\n        }else{\n            effect();\n        }\n    });\n}\nexport function trigger(target, type, key, value?) {\n    const depsMap = targetMap.get(target);\n    if (!depsMap) {// 属性变化了 但是没有依赖 直接跳过即可\n        return;\n    }\n    // 修改\n    if (key == 'length' && isArray(target)) {\n        depsMap.forEach((dep, key) => { // 只要改了length就触发\n            // 如果改变了 数组长度 那么一定要更新  改变的长度 小于取值的长度\n            // 这里是2 收集的   2     1\n\n\n            // key => {map中的key}  =》 {name:set:[]}\n            // 如果你修改的是长度 正好内部也对长度进行了收集 长度也要触发\n            if (key == 'length' || key >= value) {\n                run(dep)\n            }\n        });\n    } else {\n        if (key !== undefined) { // 如果有收集过就触发\n            let effects = depsMap.get(key);\n            run(effects)\n        }\n\n        switch (type) {\n            case 'add': // 添加属性 需要触发length\n                if (isArray(target)) {\n                    if (parseInt(key) == key) {\n                        run(depsMap.get('length')); // 打补丁 ，不更新就手动触发吧\n                    }\n                }\n                break;\n            default:\n                break;\n        }\n    }\n}\n// 下次课 vue3计算属性 ref、toRefs , 异步更新原理 虚拟dom原理 vue3 diff算法\n// vite 原理\n// vue3 实战写一个项目 vue3 + ts 用法\n// ts 实战 手写个axios库\n// 周日的话咱们开node （2,4） 补课\n\n// node tcp eggjs 进程 单元测试\n","// proxy 和 reflect 连用 （reflect 以后会取代掉 object上一系列法 ）\n\nimport { reactive } from \"./reactive\";\nimport { hasChange, hasOwn, isArray, isObject } from \"../shared\";\nimport { activeEffect, effectStack } from \"./effect\";\nimport { track } from \"./effect\";\nimport { trigger } from \"./effect\";\nexport const mutableHandlers = {\n    // 目标原对象 属性 代理后的对象\n    get(target, key, recevier) {  // 内置的 proxy中get和set参数是固定的\n        let res = Reflect.get(target, key, recevier);\n\n        if(typeof key == 'symbol'){ // 如果是内置的symbol 就排除掉依赖收集\n            return res;\n        }\n        track(target,key); // 属性 和 effect之间做一个关联\n\n        if(res.__v_isRef){\n            return res.value;\n        }\n\n       \n        return  isObject(res) ? reactive(res) : res// taget[key]\n    }, // 当取值的时候 应该将effect 存储起来\n    set(target, key, value, recevier) {\n        const oldValue = target[key]; // 上一次的结果\n\n\n        // 如果是数组 就比较当前新增的属性 是否比长度大，大的话就是以前没有新增的\n\n        const hadKey = isArray(target) && (parseInt(key,10) == key)? Number(key) < target.length: hasOwn(target,key);\n\n        let result = Reflect.set(target, key, value, recevier);\n        // 调用push方法 会先进行添加属性 在去更新长度（这次长度更新是没有意义的）\n        if(!hadKey){\n            trigger(target,'add',key,value); // 触发新增操作\n        }else if(hasChange(oldValue,value)){\n            trigger(target,'set',key,value);\n        }\n        // 设置一般分为两种一种是添加新的属性,还有种是修改属性\n        return result\n    } // 当设置值的时候 应该通知对应的effect来更新\n}\n\n// 默认加载页面时 会先调用一次effect，此时effect方法中的数据会进行取值操作 -》 get方法\n//                让对应的属性保存当前的effect  =>  某个对象中 name属性  对应的effect有几个\n\n// 某个对象中 name属性 变化了 ， 需要找到对应的effect列表让他依次执行\n","import { isObject } from \"../shared\";\nimport { mutableHandlers } from \"./baseHandlers\";\n\nexport const reactive = (target: object) => {\n    // 你给我一个对象 我需要让这个对象变成响应式对象 \n    // 在vue2.0的时候 defineProprety直接循环对象中的每一个属性， 无法对不存在的属性做处理.递归处理多级对象\n    // vue3.0 没有循环 对原对象进行代理,vue3不存在的属性也可以监控到,vue3 没有以上来就递归\n    return createReactiveObject(target, mutableHandlers); // 高阶函数，可以根据不同的参数实现不同的功能\n}\nconst reactiveMap = new WeakMap();// 映射表中的key必须是对象，而且不会有内存泄漏的问题\nfunction createReactiveObject(target, baseHandler) {\n    // 如果这个target 是一个对象\n    if (!isObject(target)) { // 不是对象直接返回即可\n        return target;\n    }\n    // 如果对象已经被代理过了，就不要再次代理了\n    let existProxy = reactiveMap.get(target);\n    if (existProxy) {\n        return existProxy; // 返回上一次的代理\n    }\n    const proxy = new Proxy(target, baseHandler); // reactive核心功能就是 proxy\n    reactiveMap.set(target, proxy);  // {需要代理的对象：代理后的值}\n    return proxy;\n}","import { effect, track, trigger } from \"./effect\";\nimport { isFunction } from \"../shared\";\nclass ComputedRefImpl{\n    public effect;\n    public __v_isReadonly = true;\n    public readonly __v_isRef = true;\n    public _dirty = true;\n    private _value;\n    public setter;\n    constructor(getter, setter){\n        this.setter = setter;\n        // 默认getter执行的时候会依赖于一个effect （计算属性默认就是一个effect）\n        this.effect = effect(getter,{\n            lazy:true, // 标识默认的时候 不会执行\n            scheduler:()=>{ // 默认就算属性依赖的值变化会执行scheduler方法\n                this._dirty = true;// 依赖的值变化了 变成脏值\n                trigger(this,'set','value');\n            }\n        });\n    }\n    get value(){ // 类属性描述器\n        if(this._dirty){ // 缓存\n            this._value = this.effect();\n            track(this,'value'); // 取值时收集依赖 {this:{'value':[effect]}\n            this._dirty = false;\n        }\n        return this._value\n    }\n    set value(newValue){ // 自动去调用用户的set即可  myAge.value = xxx\n        this.setter(newValue)\n    }\n}\nexport function computed(getterOrOptions){\n    // 分别拿到get和set\n    let getter;\n    let setter;\n\n    if(isFunction(getterOrOptions)){\n        getter = getterOrOptions;\n        setter = ()=>{console.log('computed  not set value')}\n    }else{\n        getter = getterOrOptions.get;\n        setter = getterOrOptions.set;\n    }\n    return new ComputedRefImpl(getter,setter);\n}","import { reactive } from \"./reactive\";\nimport { hasChange, isArray, isObject } from \"../shared\";\nimport { track, trigger } from \"./effect\";\n\nconst convert = (val) => isObject(val)?reactive(val):val\nclass RefImpl {\n    public _rawValue;\n    public readonly __v_isRef =  true;;\n    public _value;\n    constructor(public rawValue) { // rawValue类型\n        this._rawValue = rawValue;\n        this._value = convert(rawValue)\n    }\n    get value(){ // 属性访问器 这里新增了value属性\n        track(this,'value'); // {this:{value:[effect]}}  depend\n        return this._value\n    }\n    set value(newValue){\n        if(hasChange(newValue,this._rawValue)){ // 如果值有变化再去触发更新，如果值没发生变化 就不要再次触发更新了\n            this._rawValue = newValue\n            this._value =  convert(newValue);\n            trigger(this,'set','value'); // notify\n        }\n    }\n}\nexport function ref(rawValue){\n    return new RefImpl(rawValue)\n}\n\nclass ObjectRefImpl{\n    constructor(public _object,public _key){\n    }\n\n    // 代理操作 vue2 this._data 代理到vm上一个意思\n    get value(){\n        return this._object[this._key]; // 读取的是原值 （原来的值都不是响应式 那不能是响应的）\n    }\n    set value(newValue){\n        this._object[this._key] = newValue\n    }\n}\nexport function toRefs(object){ // object可能是数组\n\n    const result = isArray(object)? new Array(object.length) : {}\n\n    for(let key in object){\n        result[key] = new ObjectRefImpl(object,key);\n    }\n\n    return result\n}\n\n","import { data } from \"jquery\"\nimport { isArray, isObject, isString, ShapeFlags } from \"../shared\"\n\nexport function createVNode(type, props = {} as any, children = null) { // h（type,props,children)\n\n    // 如果是组件 那么组件的类型是对象\n    const shapeFlag = isString(type) ?\n        ShapeFlags.ELEMENT :\n        isObject(type) ?\n            ShapeFlags.STATEFUL_COMPONENT : 0\n\n\n    // 可以标识出当前 是组件还是元素\n    // shapeFlag\n\n\n    let vnode = {\n        type, // \n        props,\n        children,\n        component: null, // 组件的实例 稍后用于保存组件对应的实例\n        el: null,\n        key: props.key,\n        shapeFlag // 可以描述自己 也同时描述了孩子\n    }\n    if(isArray(children)){\n        // 元素配合多个儿子 \n        // 00000001 假如是元素\n        // 00010000 假如元素中有多个儿子\n        // ---10001  => 17 或运算 在运算的过程中有一个是1\n        vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN; // 1000\n    }else{\n        // 00000010 假如是组件  组件里面可能是空 也可能是文本\n        vnode.shapeFlag = vnode.shapeFlag | ShapeFlags.TEXT_CHILDREN; \n    }\n    // vue2 里面 区分孩子是不是数组 \n    return vnode;\n}","import { createVNode } from \"./vnode\";\nexport function createAppApi(render) { // createAppApi\n    return (component)=>{ // 外层使用的createApp\n        let app = {\n            mount(container) {\n                // (ast => codegen) => render => vnode => dom\n\n                // 根据传入的组件 创建一个组件的虚拟节点 \n\n\n                const vnode = createVNode(component);\n\n                render(vnode,container);\n            }\n        }\n        return app;\n    }\n}","\nimport { isFunction } from \"../shared\";\n\nexport function createComponentInstance(vnode){\n    const instance = { // vue2 的指令  vnode\n        type:vnode.type,\n        props:{},\n        subTree:null, // 表示组件对应的子元素的虚拟节点 _vnode 组件中渲染的内容的虚拟节点 $vnode 组件本身的虚拟节点\n        vnode,\n        render:null, // 渲染函数\n        setupState:null,// setup返回的状态\n        isMounted:false, // 目前这个组件没有被挂载\n    }\n\n    return instance\n}\n\nexport function setupComponent(instance){\n    // 属性 插槽处理\n    setupStatefulComponent(instance);\n}\n\nfunction setupStatefulComponent(instance){\n    const Component = instance.type; // 用户的App组件\n    let {setup} = Component;\n    if(setup){\n        const setUpResult = setup(instance.props);\n        // setup 可以返回render函数 还可以返回状态对象\n        handleSetupResult(instance,setUpResult);\n    }\n}\nfunction handleSetupResult(instance,setUpResult){\n    if(isFunction(setUpResult)){\n        instance.render = setUpResult; // vue2=> render\n    }else{\n        instance.setupState = setUpResult; // 一个状态可以用于模板渲染时使用的数据\n    }\n    // 当前用户可能使用了vue2的写法\n    finishComponentSetup(instance);\n}\n\nfunction finishComponentSetup(instance){\n    const Component = instance.type; \n    if(Component.render && !instance.render){ // 是render函数\n        instance.render = Component.render // 全部以setup为准\n    }else if(!instance.render){\n        // 没有写render方法 template => ast => codegen render 生成后的结果做为render\n\n    }\n    // 变量合并  用当前实例的数据和原有的vue2.0中的代码进行合并 \n    applyOptions(instance); // 合并属性 data computed \n}\n\nfunction applyOptions(instance){\n    \n}\n\n","import { effect } from \"../reactivity\";\nimport { ShapeFlags } from \"../shared\";\nimport { createAppApi } from \"./apiCreateApp\";\nimport { createComponentInstance, setupComponent } from \"./component\";\n\nexport function createRenderer(options) { // options 不同平台传入的不同， 我们core中不关心options里的api具体是什么 ，只需要调用即可\n\n    let {\n        createElement: hostCreateElement,\n        insert: hostInsert,\n        remove: hostRemove,\n        setElementText: hostSetElementText,\n        createTextNode: hostCreateNode,\n        patchProp: hostPatchProp\n    } = options\n    const mountElement = (vnode, container,anchor) => {\n        // createElm 将虚拟节点变成真实节点\n        let { shapeFlag, props, type, children } = vnode;\n        // 将真实节点和虚拟节点关联起来\n        let el = vnode.el = hostCreateElement(type);\n\n        // 是文本的孩子\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            hostSetElementText(el, children);\n        } else {\n            // 数组就需要循环处理\n            mountChildren(children, el);\n        }\n        if (props) {\n            // 处理属性,赋予给元素上\n            for (let key in props) {\n                hostPatchProp(el, key, null, props[key]);\n            }\n        }\n        hostInsert(el, container,anchor);\n    }\n    function mountChildren(children, container) {\n        for (let i = 0; i < children.length; i++) {\n            patch(null, children[i], container);\n        }\n    }\n    const patchProps = (oldProps, newProps, el) => {\n        if (oldProps !== newProps) {\n            for (let key in newProps) {\n                const prev = oldProps[key];\n                const next = newProps[key];\n                if (prev !== next) {\n                    hostPatchProp(el, key, prev, next);\n                }\n            }\n            // 老的中的属性 新的没有了 还要将属性移除掉\n            for (let key in oldProps) {\n                if (!(key in newProps)) {\n                    hostPatchProp(el, key, oldProps[key], null);\n                }\n            }\n        }\n    }\n    const patchKeyedChildren = (c1, c2, el) => {\n        // 两方都有儿子 核心的diff算法\n\n        // 两个儿子 要尽可能复用\n        // 1）abc\n        //    abde  i = 2\n\n        // 先默认处理特殊情况\n        let i = 0;\n        let e1 = c1.length - 1;\n        let e2 = c2.length - 1;\n        while (i <= e1 && i <= e2) { // 谁先比对完毕就结束\n            const n1 = c1[i];\n            const n2 = c2[i];\n            if (isSameVnodeType(n1, n2)) {\n                patch(n1, n2, el); // 递归比较子节点\n            } else {\n                break;\n            }\n            i++;\n        }\n        // 2) abc    i = 0  e1=2  e2=3\n        //   eabc    i=0 e1=-1 e2=0\n        while(i <= e1 && i <= e2){\n            const n1 = c1[e1];\n            const n2 = c2[e2];\n            if(isSameVnodeType(n1,n2)){\n                patch(n1,n2,el);\n            }else{\n                break;\n            }\n            e1--;\n            e2--;\n        }\n        // 老的都能复用 只是向前或者向后插入了元素\n        // 3) 考虑极端的情况 abc => abcdef （i=3  e1=2  e2= 5）       \n        //  abc => fedabc (i=0 e1=-1 e2=2)\n        // 我怎么知道是新的比老的多？\n        if(i> e1){ // 最起码能保证老节点都比较完毕了\n            if(i<=e2){ // 新增的节点\n                // 我怎么知道是向前插入 还是向后插入 , 如果是向前插入，那应该插入到谁的前面\n                // 如果前面都一样 e2 不会动 取他的 + 1 个 比数组长度大\n                // 如果后面都一样 e2 会向前 取他的 + 1 个 会比数组长度小\n                const nextPos = e2 + 1;\n                const anchor = nextPos < c2.length ? c2[nextPos].el : null\n                while(i<=e2){\n                    patch(null,c2[i],el,anchor);\n                    i++;\n                }\n            }\n            // abcdef abc (i=3 e1=5 e2=2)\n        }else if(i>e2){\n            while(i<=e1){\n                hostRemove(c1[i].el);\n                i++;\n            }\n        }else{\n            // 乱序比对 比对两方儿子的差异  最长递增子序列\n            // abc   eabcf\n\n            \n        }\n        // 最后在考虑都不一样的情况\n    }\n    const patchChildren = (n1, n2, el) => {\n        const c1 = n1.children;\n        const c2 = n2.children;\n\n        const prevShapeFlag = n1.shapeFlag;\n        const nextShapeFlag = n2.shapeFlag;\n\n        // 老的是文本 新的是文本\n        // 老的是数组 新的是文本  如果新的是文本 直接覆盖掉即可\n        if (nextShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            if (c2 !== c1) {\n                hostSetElementText(el, c2);\n            }\n        } else {\n            // 新的是数组   // 如果老的是数组\n            if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                patchKeyedChildren(c1, c2, el);\n            } else {\n                // 老的是文本 新的是数组？\n                hostSetElementText(el, ''); // 删掉老的内容\n                mountChildren(c2, el); // 循环子节点 将子节点变成真实节点插入到el元素中\n            }\n        }\n        // 新的是数组 老的是数组\n        // 新的是数组 老的是文本\n    }\n    const patchElement = (n1, n2, container) => {\n        // 比较两个虚拟节点 并且复用老的节点\n        let el = n2.el = n1.el\n        const oldProps = n1.props || {};\n        const newProps = n2.props || {};\n\n        patchProps(oldProps, newProps, el);\n\n        patchChildren(n1, n2, el);\n    }\n    const mountComponent = (vnode, container) => {\n\n        // vue是组件级别更新的 每个组件应该有个 effect 渲染effect\n\n        // 组件的创建 我拿到外边去\n\n        const instance = vnode.component = createComponentInstance(vnode); // 根据虚拟 创建实例\n\n        // 找到组件的setup方法\n        setupComponent(instance); // instance = {type,props,component,render}\n\n        // 设置渲染effect\n        setupRenderEffect(instance, container);\n\n    }\n    // 每个组件都会提供一个effect方法\n    function setupRenderEffect(instance, container) {\n        effect(function () { // effect 默认会执行\n            if (!instance.isMounted) { // 组件没有被渲染\n                let subTree = instance.subTree = instance.render(); // state.name\n                // 渲染组件对应的需要渲染的节点\n                patch(null, subTree, container);\n                instance.isMounted = true; // 表示渲染完了\n            } else {\n                // 组件的更新 \n                let prevTree = instance.subTree;\n                let nextTree = instance.render();\n                patch(prevTree, nextTree, container)\n            }\n        })\n    }\n\n    const updateComponent = (n1, n2, container) => {\n\n    }\n    const processElement = (n1, n2, container,anchor) => {\n        if (n1 == null) {\n            // 元素挂载\n            mountElement(n2, container,anchor);\n        } else {\n            patchElement(n1, n2, container)\n        }\n    }\n    const processComponent = (n1, n2, container) => {\n        if (n1 == null) {\n            mountComponent(n2, container);\n        } else {\n            updateComponent(n1, n2, container)\n        }\n    }\n    const isSameVnodeType = (n1, n2) => {\n        return n1.type == n2.type && n1.key == n2.key;\n    }\n    const patch = (n1, n2, container,anchor = null) => {\n        // 同级比对\n        // 1.类型不一样 key 不一样不复用\n        // 2.复用节点后 比较属性\n        // 3.比对孩子 1方 有儿子  2方都有儿子 \n        // 4.都有儿子的时候才是真正的dom-diff\n        if (n1 && !isSameVnodeType(n1, n2)) {\n            hostRemove(n1.el);\n            n1 = null; // n1 等于null 表示初始化渲染，把n2 作为了新的虚拟节点\n        }\n\n        // 开始渲染\n        let { shapeFlag } = n2;\n\n        // 此时我现在判断的是最外层元素，没有到儿子内部\n        // 1100     0001  都是1 才是1\n        if (shapeFlag & ShapeFlags.ELEMENT) { // 1  可以用& 操作来判断是否包含这个类型\n            processElement(n1, n2, container,anchor);\n            // 1100   100\n        } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n            processComponent(n1, n2, container)\n        }\n    }\n\n\n    const render = (vnode, container) => { // 渲染器逻辑 \n        // 初次渲染 没有prevVnode   更新渲染  prevVnode\n        patch(null, vnode, container);\n    }\n    return {\n        createApp: createAppApi(render) // 为了方便扩展 我将createAppApi方法改造成了高阶函数方便传入参数\n    }\n\n    // 组件渲染 render方法 =》 patch =》 渲染的是组件 => processComponent => mountComponent => 调用组件的setup 并且拿到render函数\n    // 元素渲染  patch方法 => processElement => mountElement\n}\n\n// 核心包肯定有很多方法","import { createVNode } from './vnode'\n\n\nexport function h(type, props, children) {\n    return createVNode(type, props, children);\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\nexport const nodeOps = {\n    createElement(type){\n       return document.createElement(type);\n    },\n    insert(child,parent,anchor=null){ // 调用insertBefore时如果参照物是null 表示追加元素\n        parent.insertBefore(child,anchor); // achor == null appendChild\n    },\n    remove(child){\n        const parent = child.parentNode;\n        if(parent){\n            parent.removeChild(child);\n        }\n    },\n    setElementText(el,content){ // v-html\n        el.textContent = content;\n    },\n    createTextNode(content){\n        return document.createTextNode(content);\n    }\n}\n\n// vue2 => weex => mpvue","\n\n\nfunction patchStyle(el,prev,next){\n    // 如果元素next属性没有值\n    const style = el.style; // 获取之前的样式\n    if(!next){\n        el.removeAttribute('style'); // 直接删除即可\n    }else{\n        for(let key in next){ // 用新的全量覆盖老的\n            style[key] = next[key];\n        }\n        if(prev){\n            for(let key in prev){ // 看老的有的新的没有 将样式移除\n                if(!next[key]){\n                    style[key] = '';\n                }\n            }\n        }\n    }\n}\nexport function patchClass(el,next){\n    if(next == null){\n        next = '';\n    }\n    el.className = next;\n}\nexport function patchAttr(el,key,value){\n    if(value == null){\n        el.removeAttribute(key);\n    }else{\n        el.setAttribute(key,value);\n    }\n}\nexport function patchProp(el,key,prevValue,nextValue){ // updateProperties\n    switch (key) {\n        case 'style':\n            patchStyle(el,prevValue,nextValue);\n            break;\n        case 'className':\n            patchClass(el,nextValue);\n            break;\n        default:\n            patchAttr(el,key,nextValue);\n    }\n         \n       \n}","import { createRenderer } from \"../runtime-core/index\";\nimport {nodeOps} from './nodeOps'\n\nimport {patchProp} from './patchProp'\n\nfunction ensureRenderer(){\n    return createRenderer({...nodeOps,patchProp}); // 传入一些dom的api操作 创建、删除、添加、属性更新\n}\nexport function createApp(rootComponent){ // rootComponent => App\n    const app = ensureRenderer().createApp(rootComponent); // 核心调用内层 runtime-core 中的createApp方法\n    const {mount} = app;\n    app.mount = function (container) {\n        // 外层需要做元素清空操作\n        container  = document.querySelector(container);\n        container.innerHTML = '';// 清空容器中的内容\n        mount(container); // 调用底层的mount方法\n    }\n    return app;\n}\n\n// vue3 默认使用的时候就是runtime-dom这个包"],"names":[],"mappings":";;;;;;IAAO,IAAM,QAAQ,GAAG,UAAC,GAAW,IAAmB,OAAA,OAAO,GAAG,IAAI,QAAQ,IAAI,GAAG,KAAK,IAAI,GAAA,CAAC;IAE9F,IAAM,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAA;IAC/C,IAAM,MAAM,GAAG,UAAC,MAAM,EAAC,GAAG,IAAK,OAAA,cAAc,CAAC,IAAI,CAAC,MAAM,EAAC,GAAG,CAAC,GAAA,CAAC;IAG/D,IAAM,OAAO,GAAG,UAAC,MAAM,IAAI,OAAA,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAA,CAAC;IAGjD,IAAM,SAAS,GAAG,UAAC,MAAM,EAAC,MAAM,IAAG,OAAA,MAAM,KAAK,MAAM,GAAA,CAAC;IAGrD,IAAM,UAAU,GAAG,UAAC,GAAG,IAAK,OAAA,OAAO,GAAG,IAAI,UAAU,GAAA,CAAA;IAGpD,IAAM,QAAQ,GAAG,UAAC,GAAG,IAAK,OAAA,OAAO,GAAG,IAAI,QAAQ,GAAA;;QCb1C,MAAM,GAAG,UAAC,EAAE,EAAE,OAAiB;QAAjB,wBAAA,EAAA,YAAiB;;QAExC,IAAM,MAAM,GAAG,oBAAoB,CAAC,EAAE,EAAC,OAAO,CAAC,CAAC;QAEhD,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YACf,MAAM,EAAE,CAAC;SACZ;QAED,OAAO,MAAM,CAAA;IACjB,EAAC;IAGD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IAEO,IAAI,WAAW,GAAG,EAAE,CAAC;IACrB,IAAI,YAAY,GAAG,IAAI,CAAC;IAC/B,IAAI,EAAE,GAAG,CAAC,CAAC;IACX,SAAS,oBAAoB,CAAC,EAAE,EAAC,OAAO;QACpC,IAAM,MAAM,GAAG,SAAS,cAAc;YAClC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;gBAC/B,IAAI;oBACA,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACzB,YAAY,GAAG,MAAM,CAAC;oBACtB,OAAO,EAAE,EAAE,CAAC;iBACf;wBAAS;oBACN,WAAW,CAAC,GAAG,EAAE,CAAC;oBAClB,YAAY,GAAG,WAAW,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;iBACrD;aACJ;SAEJ,CAAA;QACD,MAAM,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC;QACjB,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC;QACzB,OAAO,MAAM,CAAC;IAClB,CAAC;IACD;IAEA;IACA,IAAM,SAAS,GAAG,IAAI,OAAO,CAAC;IAC9B;aACgB,KAAK,CAAC,MAAM,EAAE,GAAG;QAC7B,IAAI,YAAY,IAAI,SAAS,EAAE;YAC3B,OAAO;SACV;QACD,IAAI,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,EAAE;YACV,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,OAAO,GAAG,IAAI,GAAG,EAAE,EAAE,CAAC;SAChD;QACD,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,GAAG,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,EAAE,EAAE,CAAC;SACvC;QACD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;YACxB,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;SACzB;IACL,CAAC;IAED,IAAM,GAAG,GAAG,UAAC,OAAO;QAChB,IAAI,OAAO;YAAE,OAAO,CAAC,OAAO,CAAC,UAAA,MAAM;gBAC/B,IAAG,MAAM,CAAC,OAAO,CAAC,SAAS,EAAC;oBACxB,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;iBACpC;qBAAI;oBACD,MAAM,EAAE,CAAC;iBACZ;aACJ,CAAC,CAAC;IACP,CAAC,CAAA;aACe,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,KAAM;QAC7C,IAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,EAAE;YACV,OAAO;SACV;;QAED,IAAI,GAAG,IAAI,QAAQ,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE;YACpC,OAAO,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,GAAG;;;;;gBAOrB,IAAI,GAAG,IAAI,QAAQ,IAAI,GAAG,IAAI,KAAK,EAAE;oBACjC,GAAG,CAAC,GAAG,CAAC,CAAA;iBACX;aACJ,CAAC,CAAC;SACN;aAAM;YACH,IAAI,GAAG,KAAK,SAAS,EAAE;gBACnB,IAAI,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAC/B,GAAG,CAAC,OAAO,CAAC,CAAA;aACf;YAED,QAAQ,IAAI;gBACR,KAAK,KAAK;oBACN,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE;wBACjB,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE;4BACtB,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;yBAC9B;qBACJ;oBACD,MAAM;aAGb;SACJ;IACL,CAAC;IACD;IACA;IACA;IACA;IACA;IAEA;;IChIA;IAOO,IAAM,eAAe,GAAG;;QAE3B,GAAG,YAAC,MAAM,EAAE,GAAG,EAAE,QAAQ;YACrB,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;YAE7C,IAAG,OAAO,GAAG,IAAI,QAAQ,EAAC;gBACtB,OAAO,GAAG,CAAC;aACd;YACD,KAAK,CAAC,MAAM,EAAC,GAAG,CAAC,CAAC;YAElB,IAAG,GAAG,CAAC,SAAS,EAAC;gBACb,OAAO,GAAG,CAAC,KAAK,CAAC;aACpB;YAGD,OAAQ,QAAQ,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,GAAG,CAAA;SAC9C;QACD,GAAG,YAAC,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,QAAQ;YAC5B,IAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;;YAK7B,IAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,QAAQ,CAAC,GAAG,EAAC,EAAE,CAAC,IAAI,GAAG,CAAC,GAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,MAAM,GAAE,MAAM,CAAC,MAAM,EAAC,GAAG,CAAC,CAAC;YAE7G,IAAI,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;;YAEvD,IAAG,CAAC,MAAM,EAAC;gBACP,OAAO,CAAC,MAAM,EAAC,KAAK,EAAC,GAAG,EAAC,KAAK,CAAC,CAAC;aACnC;iBAAK,IAAG,SAAS,CAAC,QAAQ,EAAC,KAAK,CAAC,EAAC;gBAC/B,OAAO,CAAC,MAAM,EAAC,KAAK,EAAC,GAAG,EAAC,KAAK,CAAC,CAAC;aACnC;;YAED,OAAO,MAAM,CAAA;SAChB;KACJ,CAAA;IAED;IACA;IAEA;;QC5Ca,QAAQ,GAAG,UAAC,MAAc;;;;QAInC,OAAO,oBAAoB,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;IACzD,EAAC;IACD,IAAM,WAAW,GAAG,IAAI,OAAO,EAAE,CAAC;IAClC,SAAS,oBAAoB,CAAC,MAAM,EAAE,WAAW;;QAE7C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YACnB,OAAO,MAAM,CAAC;SACjB;;QAED,IAAI,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACzC,IAAI,UAAU,EAAE;YACZ,OAAO,UAAU,CAAC;SACrB;QACD,IAAM,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;QAC7C,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC/B,OAAO,KAAK,CAAC;IACjB;;ICrBA;QAOI,yBAAY,MAAM,EAAE,MAAM;YAA1B,iBAUC;YAfM,mBAAc,GAAG,IAAI,CAAC;YACb,cAAS,GAAG,IAAI,CAAC;YAC1B,WAAM,GAAG,IAAI,CAAC;YAIjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;YAErB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,EAAC;gBACxB,IAAI,EAAC,IAAI;gBACT,SAAS,EAAC;oBACN,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,OAAO,CAAC,KAAI,EAAC,KAAK,EAAC,OAAO,CAAC,CAAC;iBAC/B;aACJ,CAAC,CAAC;SACN;QACD,sBAAI,kCAAK;iBAAT;gBACI,IAAG,IAAI,CAAC,MAAM,EAAC;oBACX,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;oBAC5B,KAAK,CAAC,IAAI,EAAC,OAAO,CAAC,CAAC;oBACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;iBACvB;gBACD,OAAO,IAAI,CAAC,MAAM,CAAA;aACrB;iBACD,UAAU,QAAQ;gBACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA;aACxB;;;WAHA;QAIL,sBAAC;IAAD,CAAC,IAAA;aACe,QAAQ,CAAC,eAAe;;QAEpC,IAAI,MAAM,CAAC;QACX,IAAI,MAAM,CAAC;QAEX,IAAG,UAAU,CAAC,eAAe,CAAC,EAAC;YAC3B,MAAM,GAAG,eAAe,CAAC;YACzB,MAAM,GAAG,cAAK,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAA,EAAC,CAAA;SACxD;aAAI;YACD,MAAM,GAAG,eAAe,CAAC,GAAG,CAAC;YAC7B,MAAM,GAAG,eAAe,CAAC,GAAG,CAAC;SAChC;QACD,OAAO,IAAI,eAAe,CAAC,MAAM,EAAC,MAAM,CAAC,CAAC;IAC9C;;ICzCA,IAAM,OAAO,GAAG,UAAC,GAAG,IAAK,OAAA,QAAQ,CAAC,GAAG,CAAC,GAAC,QAAQ,CAAC,GAAG,CAAC,GAAC,GAAG,GAAA,CAAA;IACxD;QAII,iBAAmB,QAAQ;YAAR,aAAQ,GAAR,QAAQ,CAAA;YAFX,cAAS,GAAI,IAAI,CAAC;YAG9B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC1B,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;SAClC;QACD,sBAAI,0BAAK;iBAAT;gBACI,KAAK,CAAC,IAAI,EAAC,OAAO,CAAC,CAAC;gBACpB,OAAO,IAAI,CAAC,MAAM,CAAA;aACrB;iBACD,UAAU,QAAQ;gBACd,IAAG,SAAS,CAAC,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,EAAC;oBAClC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAA;oBACzB,IAAI,CAAC,MAAM,GAAI,OAAO,CAAC,QAAQ,CAAC,CAAC;oBACjC,OAAO,CAAC,IAAI,EAAC,KAAK,EAAC,OAAO,CAAC,CAAC;iBAC/B;aACJ;;;WAPA;QAQL,cAAC;IAAD,CAAC,IAAA;aACe,GAAG,CAAC,QAAQ;QACxB,OAAO,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAA;IAChC,CAAC;IAED;QACI,uBAAmB,OAAO,EAAQ,IAAI;YAAnB,YAAO,GAAP,OAAO,CAAA;YAAQ,SAAI,GAAJ,IAAI,CAAA;SACrC;QAGD,sBAAI,gCAAK;;iBAAT;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAClC;iBACD,UAAU,QAAQ;gBACd,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAA;aACrC;;;WAHA;QAIL,oBAAC;IAAD,CAAC,IAAA;aACe,MAAM,CAAC,MAAM;QAEzB,IAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,GAAE,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAA;QAE7D,KAAI,IAAI,GAAG,IAAI,MAAM,EAAC;YAClB,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,aAAa,CAAC,MAAM,EAAC,GAAG,CAAC,CAAC;SAC/C;QAED,OAAO,MAAM,CAAA;IACjB;;aC/CgB,WAAW,CAAC,IAAI,EAAE,KAAiB,EAAE,QAAe;QAAlC,sBAAA,EAAA,QAAQ,EAAS;QAAE,yBAAA,EAAA,eAAe;;QAGhE,IAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC;;YAE5B,QAAQ,CAAC,IAAI,CAAC;6CACsB,CAAC,CAAA;;;QAOzC,IAAI,KAAK,GAAG;YACR,IAAI,MAAA;YACJ,KAAK,OAAA;YACL,QAAQ,UAAA;YACR,SAAS,EAAE,IAAI;YACf,EAAE,EAAE,IAAI;YACR,GAAG,EAAE,KAAK,CAAC,GAAG;YACd,SAAS,WAAA;SACZ,CAAA;QACD,IAAG,OAAO,CAAC,QAAQ,CAAC,EAAC;;;;;YAKjB,KAAK,CAAC,SAAS,4BAA8B;SAChD;aAAI;;YAED,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,yBAA4B;SAChE;;QAED,OAAO,KAAK,CAAC;IACjB;;aCpCgB,YAAY,CAAC,MAAM;QAC/B,OAAO,UAAC,SAAS;YACb,IAAI,GAAG,GAAG;gBACN,KAAK,YAAC,SAAS;;;oBAMX,IAAM,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;oBAErC,MAAM,CAAC,KAAK,EAAC,SAAS,CAAC,CAAC;iBAC3B;aACJ,CAAA;YACD,OAAO,GAAG,CAAC;SACd,CAAA;IACL;;aCdgB,uBAAuB,CAAC,KAAK;QACzC,IAAM,QAAQ,GAAG;YACb,IAAI,EAAC,KAAK,CAAC,IAAI;YACf,KAAK,EAAC,EAAE;YACR,OAAO,EAAC,IAAI;YACZ,KAAK,OAAA;YACL,MAAM,EAAC,IAAI;YACX,UAAU,EAAC,IAAI;YACf,SAAS,EAAC,KAAK;SAClB,CAAA;QAED,OAAO,QAAQ,CAAA;IACnB,CAAC;aAEe,cAAc,CAAC,QAAQ;;QAEnC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;IACrC,CAAC;IAED,SAAS,sBAAsB,CAAC,QAAQ;QACpC,IAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC3B,IAAA,KAAK,GAAI,SAAS,MAAb,CAAc;QACxB,IAAG,KAAK,EAAC;YACL,IAAM,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;YAE1C,iBAAiB,CAAC,QAAQ,EAAC,WAAW,CAAC,CAAC;SAC3C;IACL,CAAC;IACD,SAAS,iBAAiB,CAAC,QAAQ,EAAC,WAAW;QAC3C,IAAG,UAAU,CAAC,WAAW,CAAC,EAAC;YACvB,QAAQ,CAAC,MAAM,GAAG,WAAW,CAAC;SACjC;aAAI;YACD,QAAQ,CAAC,UAAU,GAAG,WAAW,CAAC;SACrC;;QAED,oBAAoB,CAAC,QAAQ,CAAC,CAAC;IACnC,CAAC;IAED,SAAS,oBAAoB,CAAC,QAAQ;QAClC,IAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC;QAChC,IAAG,SAAS,CAAC,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAC;YACpC,QAAQ,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAA;SACrC;aAAK,IAAG,CAAC,QAAQ,CAAC,MAAM,EAAC,CAGzB;IAGL;;aC9CgB,cAAc,CAAC,OAAO;QAG9B,IAAe,iBAAiB,GAMhC,OAAO,cANyB,EACxB,UAAU,GAKlB,OAAO,OALW,EACV,UAAU,GAIlB,OAAO,OAJW,EACF,kBAAkB,GAGlC,OAAO,eAH2B,EAClB,cAAc,GAE9B,OAAO,eAFuB,EACnB,aAAa,GACxB,OAAO,UADiB,CACjB;QACX,IAAM,YAAY,GAAG,UAAC,KAAK,EAAE,SAAS,EAAC,MAAM;;YAEnC,IAAA,SAAS,GAA4B,KAAK,UAAjC,EAAE,KAAK,GAAqB,KAAK,MAA1B,EAAE,IAAI,GAAe,KAAK,KAApB,EAAE,QAAQ,GAAK,KAAK,SAAV,CAAW;;YAEjD,IAAI,EAAE,GAAG,KAAK,CAAC,EAAE,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAC;;YAG5C,IAAI,SAAS,0BAA6B;gBACtC,kBAAkB,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;aACpC;iBAAM;;gBAEH,aAAa,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;aAC/B;YACD,IAAI,KAAK,EAAE;;gBAEP,KAAK,IAAI,GAAG,IAAI,KAAK,EAAE;oBACnB,aAAa,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC5C;aACJ;YACD,UAAU,CAAC,EAAE,EAAE,SAAS,EAAC,MAAM,CAAC,CAAC;SACpC,CAAA;QACD,SAAS,aAAa,CAAC,QAAQ,EAAE,SAAS;YACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACtC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;aACvC;SACJ;QACD,IAAM,UAAU,GAAG,UAAC,QAAQ,EAAE,QAAQ,EAAE,EAAE;YACtC,IAAI,QAAQ,KAAK,QAAQ,EAAE;gBACvB,KAAK,IAAI,GAAG,IAAI,QAAQ,EAAE;oBACtB,IAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;oBAC3B,IAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;oBAC3B,IAAI,IAAI,KAAK,IAAI,EAAE;wBACf,aAAa,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;qBACtC;iBACJ;;gBAED,KAAK,IAAI,GAAG,IAAI,QAAQ,EAAE;oBACtB,IAAI,EAAE,GAAG,IAAI,QAAQ,CAAC,EAAE;wBACpB,aAAa,CAAC,EAAE,EAAE,GAAG,EAAE,QAAQ,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;qBAC/C;iBACJ;aACJ;SACJ,CAAA;QACD,IAAM,kBAAkB,GAAG,UAAC,EAAE,EAAE,EAAE,EAAE,EAAE;;;;;;YAQlC,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,IAAI,EAAE,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;YACvB,IAAI,EAAE,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;YACvB,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE;gBACvB,IAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBACjB,IAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gBACjB,IAAI,eAAe,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE;oBACzB,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;iBACrB;qBAAM;oBACH,MAAM;iBACT;gBACD,CAAC,EAAE,CAAC;aACP;;;YAGD,OAAM,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAC;gBACrB,IAAM,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBAClB,IAAM,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;gBAClB,IAAG,eAAe,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC;oBACtB,KAAK,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,CAAC;iBACnB;qBAAI;oBACD,MAAM;iBACT;gBACD,EAAE,EAAE,CAAC;gBACL,EAAE,EAAE,CAAC;aACR;;;;;YAKD,IAAG,CAAC,GAAE,EAAE,EAAC;gBACL,IAAG,CAAC,IAAE,EAAE,EAAC;;;;oBAIL,IAAM,OAAO,GAAG,EAAE,GAAG,CAAC,CAAC;oBACvB,IAAM,MAAM,GAAG,OAAO,GAAG,EAAE,CAAC,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG,IAAI,CAAA;oBAC1D,OAAM,CAAC,IAAE,EAAE,EAAC;wBACR,KAAK,CAAC,IAAI,EAAC,EAAE,CAAC,CAAC,CAAC,EAAC,EAAE,EAAC,MAAM,CAAC,CAAC;wBAC5B,CAAC,EAAE,CAAC;qBACP;iBACJ;;aAEJ;iBAAK,IAAG,CAAC,GAAC,EAAE,EAAC;gBACV,OAAM,CAAC,IAAE,EAAE,EAAC;oBACR,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;oBACrB,CAAC,EAAE,CAAC;iBACP;aACJ;iBAAI,CAKJ;;SAEJ,CAAA;QACD,IAAM,aAAa,GAAG,UAAC,EAAE,EAAE,EAAE,EAAE,EAAE;YAC7B,IAAM,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC;YACvB,IAAM,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC;YAEvB,IAAM,aAAa,GAAG,EAAE,CAAC,SAAS,CAAC;YACnC,IAAM,aAAa,GAAG,EAAE,CAAC,SAAS,CAAC;;;YAInC,IAAI,aAAa,0BAA6B;gBAC1C,IAAI,EAAE,KAAK,EAAE,EAAE;oBACX,kBAAkB,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;iBAC9B;aACJ;iBAAM;;gBAEH,IAAI,aAAa,4BAA8B;oBAC3C,kBAAkB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;iBAClC;qBAAM;;oBAEH,kBAAkB,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;oBAC3B,aAAa,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;iBACzB;aACJ;;;SAGJ,CAAA;QACD,IAAM,YAAY,GAAG,UAAC,EAAE,EAAE,EAAE,EAAE,SAAS;;YAEnC,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAA;YACtB,IAAM,QAAQ,GAAG,EAAE,CAAC,KAAK,IAAI,EAAE,CAAC;YAChC,IAAM,QAAQ,GAAG,EAAE,CAAC,KAAK,IAAI,EAAE,CAAC;YAEhC,UAAU,CAAC,QAAQ,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;YAEnC,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;SAC7B,CAAA;QACD,IAAM,cAAc,GAAG,UAAC,KAAK,EAAE,SAAS;;;YAMpC,IAAM,QAAQ,GAAG,KAAK,CAAC,SAAS,GAAG,uBAAuB,CAAC,KAAK,CAAC,CAAC;;YAGlE,cAAc,CAAC,QAAQ,CAAC,CAAC;;YAGzB,iBAAiB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;SAE1C,CAAA;;QAED,SAAS,iBAAiB,CAAC,QAAQ,EAAE,SAAS;YAC1C,MAAM,CAAC;gBACH,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;oBACrB,IAAI,OAAO,GAAG,QAAQ,CAAC,OAAO,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC;;oBAEnD,KAAK,CAAC,IAAI,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;oBAChC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;iBAC7B;qBAAM;;oBAEH,IAAI,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC;oBAChC,IAAI,QAAQ,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC;oBACjC,KAAK,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAA;iBACvC;aACJ,CAAC,CAAA;SACL;QAKD,IAAM,cAAc,GAAG,UAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAC,MAAM;YAC5C,IAAI,EAAE,IAAI,IAAI,EAAE;;gBAEZ,YAAY,CAAC,EAAE,EAAE,SAAS,EAAC,MAAM,CAAC,CAAC;aACtC;iBAAM;gBACH,YAAY,CAAC,EAAE,EAAE,EAAa,CAAC,CAAA;aAClC;SACJ,CAAA;QACD,IAAM,gBAAgB,GAAG,UAAC,EAAE,EAAE,EAAE,EAAE,SAAS;YACvC,IAAI,EAAE,IAAI,IAAI,EAAE;gBACZ,cAAc,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;aAGjC;SACJ,CAAA;QACD,IAAM,eAAe,GAAG,UAAC,EAAE,EAAE,EAAE;YAC3B,OAAO,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,CAAC;SACjD,CAAA;QACD,IAAM,KAAK,GAAG,UAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAC,MAAa;YAAb,uBAAA,EAAA,aAAa;;;;;;YAM1C,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE;gBAChC,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBAClB,EAAE,GAAG,IAAI,CAAC;aACb;;YAGK,IAAA,SAAS,GAAK,EAAE,UAAP,CAAQ;;;YAIvB,IAAI,SAAS,oBAAuB;gBAChC,cAAc,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAC,MAAM,CAAC,CAAC;;aAE5C;iBAAM,IAAI,SAAS,+BAAkC;gBAClD,gBAAgB,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,CAAC,CAAA;aACtC;SACJ,CAAA;QAGD,IAAM,MAAM,GAAG,UAAC,KAAK,EAAE,SAAS;;YAE5B,KAAK,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;SACjC,CAAA;QACD,OAAO;YACH,SAAS,EAAE,YAAY,CAAC,MAAM,CAAC;SAClC,CAAA;;;IAIL,CAAC;IAED;;aCrPgB,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ;QACnC,OAAO,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC9C;;ICLA;IACA;AACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AAeA;IACO,IAAI,QAAQ,GAAG,WAAW;IACjC,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAE;IACrD,QAAQ,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IAC7D,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC7B,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACzF,SAAS;IACT,QAAQ,OAAO,CAAC,CAAC;IACjB,MAAK;IACL,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C;;ICrCO,IAAM,OAAO,GAAG;QACnB,aAAa,YAAC,IAAI;YACf,OAAO,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SACtC;QACD,MAAM,YAAC,KAAK,EAAC,MAAM,EAAC,MAAW;YAAX,uBAAA,EAAA,aAAW;YAC3B,MAAM,CAAC,YAAY,CAAC,KAAK,EAAC,MAAM,CAAC,CAAC;SACrC;QACD,MAAM,YAAC,KAAK;YACR,IAAM,MAAM,GAAG,KAAK,CAAC,UAAU,CAAC;YAChC,IAAG,MAAM,EAAC;gBACN,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;aAC7B;SACJ;QACD,cAAc,YAAC,EAAE,EAAC,OAAO;YACrB,EAAE,CAAC,WAAW,GAAG,OAAO,CAAC;SAC5B;QACD,cAAc,YAAC,OAAO;YAClB,OAAO,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;SAC3C;KACJ,CAAA;IAED;;ICnBA,SAAS,UAAU,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI;;QAE5B,IAAM,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;QACvB,IAAG,CAAC,IAAI,EAAC;YACL,EAAE,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;SAC/B;aAAI;YACD,KAAI,IAAI,GAAG,IAAI,IAAI,EAAC;gBAChB,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;aAC1B;YACD,IAAG,IAAI,EAAC;gBACJ,KAAI,IAAI,GAAG,IAAI,IAAI,EAAC;oBAChB,IAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAC;wBACV,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;qBACnB;iBACJ;aACJ;SACJ;IACL,CAAC;aACe,UAAU,CAAC,EAAE,EAAC,IAAI;QAC9B,IAAG,IAAI,IAAI,IAAI,EAAC;YACZ,IAAI,GAAG,EAAE,CAAC;SACb;QACD,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC;IACxB,CAAC;aACe,SAAS,CAAC,EAAE,EAAC,GAAG,EAAC,KAAK;QAClC,IAAG,KAAK,IAAI,IAAI,EAAC;YACb,EAAE,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;SAC3B;aAAI;YACD,EAAE,CAAC,YAAY,CAAC,GAAG,EAAC,KAAK,CAAC,CAAC;SAC9B;IACL,CAAC;aACe,SAAS,CAAC,EAAE,EAAC,GAAG,EAAC,SAAS,EAAC,SAAS;QAChD,QAAQ,GAAG;YACP,KAAK,OAAO;gBACR,UAAU,CAAC,EAAE,EAAC,SAAS,EAAC,SAAS,CAAC,CAAC;gBACnC,MAAM;YACV,KAAK,WAAW;gBACZ,UAAU,CAAC,EAAE,EAAC,SAAS,CAAC,CAAC;gBACzB,MAAM;YACV;gBACI,SAAS,CAAC,EAAE,EAAC,GAAG,EAAC,SAAS,CAAC,CAAC;SACnC;IAGL;;IC1CA,SAAS,cAAc;QACnB,OAAO,cAAc,uBAAK,OAAO,KAAC,SAAS,WAAA,IAAE,CAAC;IAClD,CAAC;aACe,SAAS,CAAC,aAAa;QACnC,IAAM,GAAG,GAAG,cAAc,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QAC/C,IAAA,KAAK,GAAI,GAAG,MAAP,CAAQ;QACpB,GAAG,CAAC,KAAK,GAAG,UAAU,SAAS;;YAE3B,SAAS,GAAI,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAC/C,SAAS,CAAC,SAAS,GAAG,EAAE,CAAC;YACzB,KAAK,CAAC,SAAS,CAAC,CAAC;SACpB,CAAA;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IAED;;;;;;;;;;;;;;;;;"}